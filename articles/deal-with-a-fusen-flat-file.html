<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fusen">
<title>Deal with a 'fusen' flat file • fusen</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Deal with a 'fusen' flat file">
<meta property="og:description" content="fusen">
<meta property="og:image" content="https://thinkr-open.github.io/fusen/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fusen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/deal-with-a-fusen-flat-file.html">Deal with a 'fusen' flat file</a>
    <a class="dropdown-item" href="../articles/How-to-use-fusen.html">How to use fusen</a>
    <a class="dropdown-item" href="../articles/inflate-all-your-flat-files.html">Inflate all your flat files</a>
    <a class="dropdown-item" href="../articles/Maintain-packages-with-fusen.html">Maintain packages with {fusen}</a>
    <a class="dropdown-item" href="../articles/register-files-in-config.html">Register files in config</a>
    <a class="dropdown-item" href="../articles/share-on-a-github-website.html">Share on a GitHub website</a>
    <a class="dropdown-item" href="../articles/tips-and-tricks.html">Tips and tricks</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Thinkr-open/fusen/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Deal with a 'fusen' flat file</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Thinkr-open/fusen/blob/HEAD/vignettes/deal-with-a-fusen-flat-file.Rmd" class="external-link"><code>vignettes/deal-with-a-fusen-flat-file.Rmd</code></a></small>
      <div class="d-none name"><code>deal-with-a-fusen-flat-file.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thinkr-open.github.io/fusen/">fusen</a></span><span class="op">)</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from dev/flat_deal_with_flat_files.Rmd: do not edit by hand -->
<div class="section level2">
<h2 id="rename-a-flat-file">Rename a flat file<a class="anchor" aria-label="anchor" href="#rename-a-flat-file"></a>
</h2>
<p>‘fusen’ provides a function <code><a href="../reference/rename_flat_file.html">rename_flat_file()</a></code> to rename
a flat file. This function updates the file name in the configuration
file, modifies the inflating files if needed and renames the flat file
itself. This function should avoid remaining inflated files in the
repository, and ensure that the configuration file is up-to-date.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' \dontrun{</span></span>
<span><span class="co"># These functions change the current user workspace</span></span>
<span><span class="va">dev_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/add_flat_template.html">add_flat_template</a></span><span class="op">(</span></span>
<span>    template <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>    pkg <span class="op">=</span> <span class="st">"."</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span>, open <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/rename_flat_file.html">rename_flat_file</a></span><span class="op">(</span></span>
<span>  flat_file <span class="op">=</span> <span class="st">"dev/flat_additional.Rmd"</span>,</span>
<span>  new_name <span class="op">=</span> <span class="st">"flat_new.Rmd"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#' }</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fully-deprecate-a-flat-file-after-inflate">Fully deprecate a flat file after inflate<a class="anchor" aria-label="anchor" href="#fully-deprecate-a-flat-file-after-inflate"></a>
</h2>
<p>‘fusen’ serves as a framework to ensure that developers prioritize
end-users during the function development process. By employing ‘fusen’
within Rmd/Qmd files, developers can conceptualize their product and
articulate their ideas in plain text before initiating any code. This
approach encourages consideration of the package’s users: their intended
actions, and the potential impact on their experiences. Consequently,
developers can draft function documentation prior to its implementation,
thinking about explaining what’s behind the black box, as well as
reminding that this may end into the vignette.</p>
<p>Additionally, ‘fusen’ offers a minimal template comprising
‘function’, ‘doc’, and ‘test’ components. We advocate for Test Driven
Development (TDD), where writing tests precedes function implementation.
This practice aids in function design and enables anticipation of future
behavior.</p>
<p>Subsequently, you can proceed to implement the function itself,
thereafter inflating the flat file to generate R, test, and vignette
files. This initial iteration yields comprehensive documentation, a
complete test suite, and a functional implementation.</p>
<p>Following this initial phase, you have the option to:</p>
<ul>
<li>Continue iterating on the function, documentation, and tests within
the flat file, updating the R, test, and vignette files accordingly
through inflation.</li>
<li>Opt to iterate directly within the “R/”, “tests/”, and “vignette/”
directories.</li>
</ul>
<p>If the preference is to transition away from the flat file and
conduct further development in the specified directories, proper
deprecation of the flat file is recommended.</p>
<p>To facilitate this transition, the function
<code><a href="../reference/deprecate_flat_file.html">deprecate_flat_file()</a></code> is provided. This function cleans
script files by removing “do not edit” markers, updates the ‘fusen’
configuration file, and relocates the flat file to a “dev/flat_history/”
directory, preserving the cleanliness of the “dev/” directory.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' \dontrun{</span></span>
<span><span class="co">#' # These functions change the current user workspace</span></span>
<span><span class="va">dev_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/add_flat_template.html">add_flat_template</a></span><span class="op">(</span></span>
<span>    template <span class="op">=</span> <span class="st">"add"</span>,</span>
<span>    pkg <span class="op">=</span> <span class="va">dummypackage</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span>, open <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/deprecate_flat_file.html">deprecate_flat_file</a></span><span class="op">(</span>flat_file <span class="op">=</span> <span class="st">"dev/flat_additional.Rmd"</span><span class="op">)</span></span>
<span><span class="co">#' }</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastien Rochette.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
